"use strict";!function(n){n(document).ready(function(){function e(){window.matchMedia("(max-width: 600px)").matches?n(".wpcc-shortcode").appendTo(".wpcc-shortcode-mob"):n(".wpcc-shortcode").appendTo(".wpcc-shortcode-desktop")}n(".wpcc-switch-option").click(function(){var c=n(this).data("position"),e=n(this).parent().find("input");"left"==c?e.prop("checked",!1):e.prop("checked",!0),e.trigger("change")}),n("input[name=wpcc-title-show]").change(function(){var c=n(".wpcc-title-text-wrapper");this.checked?c.slideDown():c.slideUp()}),n("input[name=wpcc-instant-result]").change(function(){var c=n(".wpcc-notification-email-wrapper");"true"===n(this).val()?c.slideUp():c.slideDown()}),n("input[name=wpcc_user_agreements]").change(function(){var c=n(".wpcc-user-agreements-wrapper");this.checked?c.slideDown():c.slideUp()}),n("input[name=wpcc_privacy_policy]").change(function(){var c=n(".wpcc-privacy-policy-wrapper");this.checked?c.slideDown():c.slideUp()}),n("input[name=wpcc_terms_and_conditions]").change(function(){var c=n(".wpcc-terms-wrapper");this.checked?c.slideDown():c.slideUp()}),n(".wpcc-shortcode-copy").click(function(){var c=document.querySelector(".wpcc-shortcode-result");c.select(),c.setSelectionRange(0,99999),document.execCommand("copy"),n(".wpcc-shortcode-copy .wpcc-tooltip-text").text(window.wpCalorieCalculatorI18n.copied)}),n(".wpcc-shortcode-copy").mouseout(function(){n(".wpcc-shortcode-copy .wpcc-tooltip-text").text(window.wpCalorieCalculatorI18n.copyShortcode)}),e(),n(window).on("resize",function(c){e()});var c=n("#wpcc-settings-tab-links li a"),t=function(c){for(var e=c+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var n=t[o];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null}("wpccOpenedTab");t&&n('.wpcc-settings-section[id="'+t+'"]').length&&(n(".wpcc-settings-section").removeClass("active"),n('.wpcc-settings-section[id="'+t+'"]').addClass("active"),n("#wpcc-settings-tab-links a").removeClass("active"),n('#wpcc-settings-tab-links a[href="#'+t+'"]').addClass("active")),c.click(function(c){var e=n(this);c.preventDefault(),n("#wpcc-settings-tab-links a.active, section.active").removeClass("active"),e.addClass("active"),n(e.attr("href")).addClass("active"),function(c,e,t){var o="";{var n;t&&((n=new Date).setTime(n.getTime()+60*t*60*1e3),o="; expires="+n.toUTCString())}document.cookie=c+"="+(e||"")+o+"; path=/"}("wpccOpenedTab",e.attr("href").replace("#",""),1)}),n(".wpcc-color").each(function(){n(this).wpColorPicker({defaultColor:n(this).data("default-color")})}),n(".wpcc-color-custom").each(function(){n(this).wpColorPicker({defaultColor:n(this).data("default-color"),change:_.debounce(function(c,e){e=e.color.toCSS("hex");n('input[name="wpcc-primary-color"]').val(e),e={action:"change_color_schema",wpcc_primary_color:n('input[name="wpcc-primary-color"]').val()},n(".wpcc-settings-submit").addClass("wpcc-loading"),jQuery.post(adminajax.url,e,function(c){var o;o="",n.each(JSON.parse(c),function(t,c){n.each(c,function(c,e){o+='<tr class="wpcc-color-row '+t+'">',o+='<td><label for="wpcc_'+t+"_"+c+'">'+e.name+"</label></td>",o+='<td><input type="text" class="wpcc-color" name="wpcc_colors['+t+"]["+c+']" id="wpcc_'+t+"_"+c+'" value="'+e.default_color+'" data-default-color="'+e.default_color+'"></td>',o+="</tr>"})}),n(".wpcc-settings-color-table-body").html(o),n(".wpcc-color").each(function(){n(this).wpColorPicker({defaultColor:n(this).data("default-color")})}),n(".wpcc-settings-submit").removeClass("wpcc-loading")})},200)})}),n("input[name=wpcc_use_custom_color_settings]").change(function(){var c=n(".wpcc-settings-color-schema"),e=n(".wpcc-custom-colors-wrapper");this.checked?(c.slideUp(),e.slideDown()):(c.slideDown(),e.slideUp())}),n("#wpcc_enable_zapier").on("change",function(){n("#wpcc_enable_zapier_settings").slideToggle()})})}(jQuery);