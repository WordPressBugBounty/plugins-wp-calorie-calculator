function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var i;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(i="Object"===(i={}.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=Array(t);i<t;i++)o[i]=e[i];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var i,o=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)),o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0===i)return("string"===t?String:Number)(e);i=i.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(h=>{h(document).ready(function(){var l=.45359237,p=30.48,u=2.54;function o(){var i=h(".wp-calorie-calculator-result-count"),e=s();i.get(0)&&e&&0<e&&jQuery({Counter:0}).animate({Counter:e},{duration:600,easing:"swing",step:function(e,t){i.text(Math.ceil(e))},done:function(){i.text(this.Counter)}})}function s(){var e=h("[name=wpcc-metric-system]").is(":checked"),t=h("[name=wpcc-gender]").val(),i=+h("[name=wpcc-age]").val(),o=+h("[name=wpcc-height]").val(),n=+h("[name=wpcc-height-2]").val(),c=+h("[name=wpcc-weight]").val(),a=h("[name=wpcc-activity]:checked").val(),s=h("[name=wpcc-goal]").val(),r=0;if(!(t&&i&&o&&c))return 0;e||(c*=l,o=o*p+n*u);r="male"==t?5:-161,e=a.split("%-%")[1],n=s.split("%-%"),t=parseFloat(n[1]);return Math.round((10*c+6.25*o-5*i+r)*e*t)||0}function n(e){for(var n=[],c=h("[name=wpcc-metric-system]").is(":checked"),a=(!e||"wpcc-age"!=e.name&&"wpcc-height"!=e.name&&"wpcc-weight"!=e.name?(n.push(document.getElementById("wpcc-age")),n.push(document.getElementById("wpcc-height")),n.push(document.getElementById("wpcc-weight"))):n.push(e),0);a<n.length;a++)(()=>{if(n[a]){if(""==n[a].value)return;var e=n[a],t=+e.value,i=0,o=0;"wpcc-age"==e.name?(i=1,o=150):"wpcc-height"==e.name?(i=1,o=300,c||(i=1,o=9)):"wpcc-weight"==e.name&&(i=1,o=300,c||(i=1,o=661)),i&&o&&(t<i?(h(e).addClass("wpcc-wrong"),setTimeout(function(){e.value=i,h(e).removeClass("wpcc-wrong")},1e3)):o<t&&(h(e).addClass("wpcc-wrong"),setTimeout(function(){e.value=o,h(e).removeClass("wpcc-wrong")},1e3)))}})()}h(".wp-calorie-calculator").each(function(){var e=h(this).data("colors");if(e)for(var t in e){var i=(e=>("#"==e.substring(0,1)&&(e=e.substring(1)),parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4),16)))(e[t]);document.documentElement.style.setProperty("--wpcc-"+t,i)}}),h.fn.customSelect&&(h(".select-gender, .select-value").each(function(){h(this).hasClass("select2-hidden-accessible")&&h(this).select2("destroy")}),e=h(".wpcc-gender-placeholder").val(),h(".select-gender").customSelect({block:"wp-calorie-calculator-select",includeValue:!0,placeholder:'<span class="wpcc-select__placeholder">'+e+"</span>"}),h(".select-value").customSelect({block:"wp-calorie-calculator-select",includeValue:!0}),h(".select-gender").on("change",function(){h(".wpcc-gender .wp-calorie-calculator-select__option.wp-calorie-calculator-select__option--value").removeClass("wpcc-empty")})),h(".wpcc-switch-option").click(function(){var e=h(this).data("position"),t=h(this).parent().find("input");"left"==e?t.prop("checked",!1):t.prop("checked",!0),t.trigger("change")}),h("[name=wpcc-metric-system]").change(function(){h("[type=number]").removeClass("wpcc-empty"),this.checked?(h("[name=wpcc-height-2]").parent().hide(),h("[name=wpcc-height] + .wpcc-input-placeholder").text("cm"),h("[name=wpcc-weight] + .wpcc-input-placeholder").text("kg"),h(".wpcc-metric").removeClass("imperial")):(h("[name=wpcc-height-2]").parent().show(),h("[name=wpcc-height] + .wpcc-input-placeholder").text("ft"),h("[name=wpcc-weight] + .wpcc-input-placeholder").text("lbs"),h(".wpcc-metric").addClass("imperial"));var e,t,i=this.checked;i?((t=+h("[name=wpcc-weight]").val())&&h("[name=wpcc-weight]").val(Math.round(t*l)),e=+h("[name=wpcc-height]").val(),i=+h("[name=wpcc-height-2]").val(),(e||i)&&(i=e*p+i*u,h("[name=wpcc-height]").val(Math.round(i)))):((t=+h("[name=wpcc-weight]").val())&&h("[name=wpcc-weight]").val(Math.round(t/l)),(e=+h("[name=wpcc-height]").val())&&(i=Math.floor(e/p),t=((e-i*p)/u).toFixed(1),h("[name=wpcc-height]").val(i),h("[name=wpcc-height-2]").val(t))),n(),o()}),h(".wp-calorie-calculator input[type=number]").on("change",function(){n(this)}),h(".wp-calorie-calculator #wpcc_user_acceptance input").on("change",function(){h("#wpcc_user_acceptance").removeClass("wpcc-empty")}),h(".wp-calorie-calculator input").on("input propertychange",function(){o()}),h(".wp-calorie-calculator select").on("change",function(){o()}),h(".wpcc-result-form").submit(function(e){e.preventDefault();var t=h(this),i=h(".wpcc-result-form-notice"),e=h("#wpcc_metric"),o=t.parents(".wp-calorie-calculator"),n=o.find("[name=wpcc_user_acceptance]");n.length&&(n.is(":checked")?h("#wpcc_user_acceptance").removeClass("wpcc-empty"):h("#wpcc_user_acceptance").addClass("wpcc-empty"));var c=o.find("[name=wpcc-goal]").val().split("%-%")[0],a=o.find("[name=wpcc-activity]:checked").val().split("%-%")[0],a={metric_system:h("[name=wpcc-metric-system]").is(":checked")?"metric":"imperial",gender:h("[name=wpcc-gender]").val(),age:+h("[name=wpcc-age]").val(),height:+h("[name=wpcc-height]").val(),height2:+h("[name=wpcc-height-2]").val(),weight:+h("[name=wpcc-weight]").val(),activity:a,goal:c},c=(a.gender||h(".wpcc-gender .wp-calorie-calculator-select__option--value").addClass("wpcc-empty"),0==a.age&&o.find("[name=wpcc-age]").addClass("wpcc-empty"),0==a.height&&o.find("[name=wpcc-height]").addClass("wpcc-empty"),0==a.height2&&o.find("[name=wpcc-height-2]").addClass("wpcc-empty"),0==a.weight&&o.find("[name=wpcc-weight]").addClass("wpcc-empty"),{action:"wpcc_send_result",user_email:h(".wpcc-result-form-email").val(),result:s(),fields:a,_wpnonce:h("#wpcc_nonce").val()});n.length&&!n.is(":checked")||(c.result?(t.find("button").addClass("wpcc-loading"),h.post(t.attr("action"),c,function(e){t.find("button").removeClass("wpcc-loading"),(e=JSON.parse(e)).user_email_sent?(i.html("<span>"+window.wpCalorieCalculatorI18n.emailSendSuccess+"</span>"),i.removeClass("wpcc-error").addClass("wpcc-success")):(i.html("<span>"+window.wpCalorieCalculatorI18n.emailSendFail+"</span>"),i.removeClass("wpcc-success").addClass("wpcc-error"))})):(i.html("<span>"+window.wpCalorieCalculatorI18n.emptyFields+"</span>"),i.removeClass("wpcc-success").addClass("wpcc-error"),h("html, body").animate({scrollTop:e.offset().top-50},1200)))}),h(':input[type="number"]').each(function(e,t){h(this).keypress(function(e){var t=void 0===(e=e||window.event).which?e.keyCode:e.which;String.fromCharCode(t).match(/^[0-9]+$/)||e.preventDefault()})});var e=h(':input[type="number"]');e.on("focus",function(){h(this).data("originalValue",h(this).val())}),e.on("keyup",function(){"0"==h(this).val().trim()&&h(this).val(""),0!=h(this).val()?h(this).removeClass("wpcc-empty"):h(this).addClass("wpcc-empty")})})})(jQuery);var CustomSelect=(s=>{var i={block:"wp-calorie-calculator-select",hideCallback:!1,includeValue:!1,keyboard:!0,modifier:!1,placeholder:!1,search:!1,showCallback:!1,transition:0},e=(()=>{function o(e,t){_classCallCheck(this,o),this._$select=s(e),this._options=_objectSpread(_objectSpread({},i),"object"===_typeof(t)?t:{}),this._activeModifier="".concat(this._options.block,"--active"),this._dropupModifier="".concat(this._options.block,"--dropup"),this._optionSelectedModifier="".concat(this._options.block,"__option--selected"),this._keydown=this._keydown.bind(this),this._dropup=this._dropup.bind(this),this._outside=this._outside.bind(this),this._init()}return _createClass(o,[{key:"reset",value:function(){this._$dropdown.hide().empty(),this._$value.off("click"),this._fill()}},{key:"_init",value:function(){this._$element=s('<div class="'.concat(this._options.block,'">\n           <button class="').concat(this._options.block,"__option ").concat(this._options.block,'__option--value" type="button"></button>\n           <div class="').concat(this._options.block,'__dropdown" style="display: none;"></div>\n         </div>')),this._$select.hide().after(this._$element),this._options.modifier&&this._$element.addClass(this._options.modifier),this._$value=this._$element.find(".".concat(this._options.block,"__option--value")),this._$dropdown=this._$element.find(".".concat(this._options.block,"__dropdown")),this._fill()}},{key:"_fill",value:function(){var c=this,a=(this._$values=this._$select.find("option"),this._values=[],this._options.placeholder);s.each(this._$values,function(e,t){t=s(t).text().trim();c._values.push(t)}),a&&(this._$select.find("[selected]").length?a=!1:(this._$value.html(a),this._$select.prop("selectedIndex",-1))),s.each(this._values,function(e,t){var i=c._$values.eq(e).attr("class"),o=s('<button class="'.concat(c._options.block,'__option" type="button">').concat(t,"</button>")),n=c._$select.find(":selected");c._$values.eq(e).attr("disabled")&&o.prop("disabled",!0),!n.length&&0===e||t===n.text().trim()?(a||c._$value.text(t).removeClass(c._$value.data("class")).removeData("class").addClass(i).data("class",i),(c._options.includeValue||a)&&(o.addClass(i),o.toggleClass(c._optionSelectedModifier,c._$values.eq(e).is("[selected]")),c._$dropdown.append(o))):(o.addClass(i),c._$dropdown.append(o))}),this._$options=this._$dropdown.find(".".concat(this._options.block,"__option")),this._options.search&&this._search(),this._$value.one("click",function(e){c._show(e)}),this._$value.prop("disabled",!this._$options.length),this._$options.on("click",function(e){c._select(e)})}},{key:"_show",value:function(e){var t=this;e.preventDefault(),this._dropup(),s(window).on("resize scroll",this._dropup),this._$element.addClass(this._activeModifier),this._$dropdown.slideDown(this._options.transition,function(){t._options.search&&(t._$input.focus(),t._options.includeValue)&&t._scroll(),"function"==typeof t._options.showCallback&&t._options.showCallback.call(t._$element[0])}),setTimeout(function(){s(document).on("touchstart click",t._outside)},0),this._$value.one("click",function(e){e.preventDefault(),t._hide()}),this._options.keyboard&&(this._options.index=-1,s(window).on("keydown",this._keydown))}},{key:"_hide",value:function(){var t=this;this._options.search&&(this._$input.val("").blur(),this._$options.show(),this._$wrap.scrollTop(0)),this._$dropdown.slideUp(this._options.transition,function(){t._$element.removeClass(t._activeModifier).removeClass(t._dropupModifier),"function"==typeof t._options.hideCallback&&t._options.hideCallback.call(t._$element[0]),t._$value.off("click").one("click",function(e){t._show(e)}),s(document).off("touchstart click",t._outside),s(window).off("resize scroll",t._dropup)}),this._options.keyboard&&(this._$options.blur(),s(window).off("keydown",this._keydown))}},{key:"_scroll",value:function(){var o=this;s.each(this._$options,function(e,t){var i,t=s(t);if(t.text()===o._$value.text())return i=t.position().top,(t=o._$wrap.outerHeight()/2-t.outerHeight()/2)<i&&o._$wrap.scrollTop(i-t),!1})}},{key:"_select",value:function(e){var t,o=this,n=(e.preventDefault(),s(e.currentTarget).text().trim()),c=_toConsumableArray(this._values);this._$value.text(n).removeClass(this._$value.data("class")),this._$values.prop("selected",!1),s.each(c,function(e,t){o._options.includeValue||t!==n||c.splice(e,1),s.each(o._$values,function(e,t){var i,t=s(t);t.text().trim()===n&&(i=t.attr("class"),t.prop("selected",!0),o._$value.addClass(i).data("class",i))})}),this._hide(),this._options.includeValue?(this._$options.removeClass(this._optionSelectedModifier),s.each(this._$options,function(e,t){t=s(t);if(t.text().trim()===n)return t.addClass(o._optionSelectedModifier),!1})):(this._$options.length>c.length&&((t=this._$options.eq(c.length)).remove(),this._$options=this._$options.not(t),this._$options.length||this._$value.prop("disabled",!0)),s.each(this._$options,function(t,e){var i=s(e);i.text(c[t]),i.attr("class","".concat(o._options.block,"__option")),s.each(o._$values,function(){var e=s(this);e.text().trim()===c[t]&&(i.addClass(e.attr("class")),i.prop("disabled",e.prop("disabled")))})})),void 0!==e.originalEvent&&this._$select.trigger("change")}},{key:"_search",value:function(){var e=this;this._$input=s('<input class="'.concat(this._options.block,'__input" autocomplete="off">')),this._$dropdown.prepend(this._$input),this._$options.wrapAll('<div class="'.concat(this._options.block,'__option-wrap"></div>')),this._$wrap=this._$element.find(".".concat(this._options.block,"__option-wrap")),this._$input.on("focus",function(){e._options.index=-1}),this._$input.on("keyup",function(){var o=e._$input.val().trim();o.length?(e._$wrap.scrollTop(0),setTimeout(function(){o===e._$input.val().trim()&&s.each(e._$options,function(e,t){var t=s(t),i=-1!==t.text().trim().toLowerCase().indexOf(o.toLowerCase());t.toggle(i)})},300)):e._$options.show()})}},{key:"_dropup",value:function(){var e=this._$element[0].getBoundingClientRect().bottom,e=s(window).height()-e<this._$dropdown.height();this._$element.toggleClass(this._dropupModifier,e)}},{key:"_outside",value:function(e){e=s(e.target);e.parents().is(this._$element)||e.is(this._$element)||this._hide()}},{key:"_keydown",value:function(e){var t,i=this._$options.filter(":visible").not("[disabled]");switch(e.which){case 40:e.preventDefault(),i.eq(this._options.index+1).length?this._options.index+=1:this._options.index=0,i.eq(this._options.index).focus();break;case 38:e.preventDefault(),i.eq(this._options.index-1).length&&0<=this._options.index-1?--this._options.index:this._options.index=i.length-1,i.eq(this._options.index).focus();break;case 13:case 32:this._$input&&this._$input.is(":focus")||(e.preventDefault(),(t=this._$options.add(this._$value).filter(":focus")).trigger("click"),t.is(this._$value)||this._$select.trigger("change"),this._$value.focus());break;case 27:e.preventDefault(),this._hide(),this._$value.focus()}}}],[{key:"_jQueryPlugin",value:function(i){return this.each(function(){var e=s(this),t=e.data("custom-select");t?"reset"===i&&t.reset():"string"!=typeof i&&(t=new o(this,i),e.data("custom-select",t))})}}])})();return s.fn.customSelect=e._jQueryPlugin,s.fn.customSelect.noConflict=function(){return s.fn.customSelect},e})(jQuery);